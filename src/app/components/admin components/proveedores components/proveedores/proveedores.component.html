<div class="container pt-2 mt-4">
  <div class="title">
    <h2 class="text-light">Proveedores</h2>
    <div class="example-button-container">
      <a mat-flat-button color="primary" routerLink="/adminHome">
        <mat-icon>arrow_back</mat-icon>
        Volver
      </a>
    </div>
  </div>
  <div class="container_btn m-0">
    <div class="btn_provedor mb-3">
      <button mat-fab color="primary" extended (click)="openModal()">
        <mat-icon>add</mat-icon>
        Agregar proveedor
      </button>
    </div>
    <div class="btn_provedor">
      <button
        mat-fab
        extended
        color="primary"
        (click)="openCuentasPorPagarModal()"
      >
        <mat-icon>monetization_on</mat-icon>
        Cuentas por pagar
      </button>
    </div>
  </div>
  <div class="mt-4">
    <div class="row">
      <div class="col-lg-4 col-md-6 col-sm-11">
        <mat-form-field class="w-100">
          <mat-label>Buscar proveedor</mat-label>
          <input
            matInput
            [(ngModel)]="searchTerm"
            (input)="filterProveedores()"
          />
        </mat-form-field>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="text-center mt-5">
    <mat-spinner style="margin: 0 auto"></mat-spinner>
    <p class="text-light mt-3">Cargando proveedores...</p>
  </div>

  <div
    *ngIf="
      filteredProveedores.length === 0 && searchTerm.trim() !== '' && !loading
    "
    class="text-center mt-5"
  >
    <mat-spinner style="margin: 0 auto"></mat-spinner>
    <p class="text-light mt-3">No se encontraron proveedores</p>
  </div>

  <div class="card_container mt-4 pb-5" *ngIf="!loading">
    <div class="card" *ngFor="let proveedor of filteredProveedores">
      <a class="card1">
        <p><b>Nombre: </b> {{ proveedor.nombre | titlecase }}</p>
        <p class="small"><b>Tipo: </b> {{ proveedor.tipo | titlecase }}</p>
        <div class="go-corner">
          <div class="go-arrow">â†’</div>
        </div>
        <button
          mat-flat-button
          class="w-100 mt-3"
          (click)="openCuentaModal(proveedor)"
        >
          Ver Cuenta
        </button>
      </a>
    </div>
  </div>
</div>
